{"version":3,"sources":["../../../app/middleware/auth/index.js"],"names":["requireLogin","req","res","next","p","userToken","startSessUser","status","json","err","msg"],"mappings":";;;;;;;;AAAO,IAAMA;AAAA,uDAAe,iBAAOC,GAAP,EAAYC,GAAZ,EAAiBC,IAAjB;AAAA;AAAA;AAAA;AAAA;AAAA;AACtBC,aADsB;;AAAA,gBAEtBH,IAAII,SAFkB;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAGdJ,IAAIK,aAAJ,CAAkBL,GAAlB,CAHc;;AAAA;AAGxBG,aAHwB;AAAA;AAAA;;AAAA;AAKxBA,gBAAIH,IAAII,SAAR;;AALwB;AAAA,kBAOvBD,MAAM,KAPiB;AAAA;AAAA;AAAA;;AAAA,6CAQjBF,IAAIK,MAAJ,CAAW,GAAX,EAAgBC,IAAhB,CAAqB,EAACC,KAAI,IAAL,EAAWC,KAAK,oBAAhB,EAArB,CARiB;;AAAA;;AAW1BP;;AAX0B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAAf;;AAAA;AAAA;AAAA;AAAA,GAAN","file":"index.js","sourcesContent":["export const requireLogin = async (req, res, next) => {\n  let p ;\n  if(!req.userToken) {\n    p = await req.startSessUser(req);\n  } else {\n    p = req.userToken;\n  }\n  if(p === false) {\n    return res.status(500).json({err:true, msg: 'User not logged in'});\n  }\n\n  next();\n}\n"]}