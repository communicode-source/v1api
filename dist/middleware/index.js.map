{"version":3,"sources":["../../app/middleware/index.js"],"names":["module","exports","app","set","process","env","PORT","use","json","urlencoded","extended","connect","initialize"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;AACA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;AACA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAS;;AAExBA,MAAIC,GAAJ,CAAQ,MAAR,EAAgBC,QAAQC,GAAR,CAAYC,IAAZ,IAAoB,IAApC;AACAJ,MAAIC,GAAJ,CAAQ,aAAR,EAAuB,CAAvB;;AAEAD,MAAIK,GAAJ,CAAQ,qBAAWC,IAAX,EAAR;AACAN,MAAIK,GAAJ,CAAQ,qBAAWE,UAAX,CAAsB,EAAEC,UAAU,KAAZ,EAAtB,CAAR;;AAGAR,MAAIK,GAAJ,CAAQ,GAAR;;AAEAL,MAAIK,GAAJ;;AAEAL,MAAIK,GAAJ,CAAQ,sBAAO,KAAP,CAAR;;AAEAL,MAAIK,GAAJ,CAAQ,qBAAR;;AAEA;AACA,mBAAQI,OAAR;;AAGA;AACA;AACAT,MAAIK,GAAJ,CAAQ,mBAASK,UAAT,EAAR;AACD,CAxBD","file":"index.js","sourcesContent":["import bodyParser from 'body-parser';\nimport logger from 'morgan';\nimport passport from 'passport';\nimport cors from 'cors';\n\nimport mongo from './mongo';\nimport passportMiddleware from './passport';\nimport sanatizer from './sanatizer';\nimport {sourced} from './sourced';\nimport tokenMiddleware from './jwt';\n\nmodule.exports = (app) => {\n\n  app.set('port', process.env.PORT || 3000);\n  app.set('json spaces', 3);\n\n  app.use(bodyParser.json());\n  app.use(bodyParser.urlencoded({ extended: false }));\n\n\n  app.use('/', tokenMiddleware);\n\n  app.use(sanatizer);\n\n  app.use(logger('dev'));\n\n  app.use(cors());\n\n  mongo();\n  sourced.connect();\n\n\n  // Mongo middleware must come before.\n  passportMiddleware(passport);\n  app.use(passport.initialize());\n}\n"]}