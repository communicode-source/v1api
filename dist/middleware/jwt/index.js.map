{"version":3,"sources":["../../../app/middleware/jwt/index.js"],"names":["module","exports","req","res","next","startSessUser","token","params","body","tk","payload","check","err","userToken","msg"],"mappings":";;AAAA;;;;;;AAEAA,OAAOC,OAAP,GAAiB,UAACC,GAAD,EAAMC,GAAN,EAAWC,IAAX,EAAoB;AACnCF,MAAIG,aAAJ,GAAoB,UAACH,GAAD,EAAMI,KAAN,EAAgB;AAClC,QAAG,CAACJ,IAAIK,MAAJ,CAAWD,KAAZ,IAAqB,CAACJ,IAAIM,IAAJ,CAASF,KAA/B,IAAwC,CAACA,KAA5C,EAAmD;AACjD,aAAO,KAAP;AACD;AACD,QAAMG,KAAKP,IAAIK,MAAJ,CAAWD,KAAX,IAAoBJ,IAAIM,IAAJ,CAASF,KAA7B,IAAsCA,KAAjD;AACA,QAAMI,UAAU,cAAcC,KAAd,CAAoBF,EAApB,EAAwBP,GAAxB,CAAhB;AACA,QAAGQ,QAAQE,GAAR,KAAgB,IAAnB,EAAyB;AACvBV,UAAIW,SAAJ,GAAgB,KAAhB;AACA,aAAOX,IAAIW,SAAX;AACD;AACDX,QAAIW,SAAJ,GAAgBH,QAAQI,GAAxB;AACA,WAAOZ,IAAIW,SAAX;AACD,GAZD;;AAeAT;AACD,CAjBD","file":"index.js","sourcesContent":["import jwtController from './../../controller/jwt';\n\nmodule.exports = (req, res, next) => {\n  req.startSessUser = (req, token) => {\n    if(!req.params.token && !req.body.token && !token) {\n      return false;\n    }\n    const tk = req.params.token || req.body.token || token;\n    const payload = jwtController.check(tk, req);\n    if(payload.err === true) {\n      req.userToken = false;\n      return req.userToken;\n    }\n    req.userToken = payload.msg;\n    return req.userToken;\n  };\n\n\n  next();\n}\n"]}