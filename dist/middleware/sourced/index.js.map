{"version":3,"sources":["../../../app/middleware/sourced/index.js"],"names":["Mongo","Promise","res","rej","connect","url","err","db","console","log","sourced"],"mappings":"AAAA;;;;;;;;;AACA;;;;AACA;;;;;;IAEMA,K;;;;;;;8BACM;AAAA;;AACR,aAAO,IAAIC,OAAJ,CAAY,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,6BAAYC,OAAZ,CAAoB,mBAAOC,GAA3B,EAAgC,UAACC,GAAD,EAAMC,EAAN,EAAa;AAC3C,cAAGD,GAAH,EAAQ;AACNE,oBAAQC,GAAR,CAAY,8BAAZ;AACAP;AACD;AACDM,kBAAQC,GAAR,CAAY,cAAZ;AACA,gBAAKF,EAAL,GAAUA,EAAV;AACAL;AACD,SARD;AASD,OAVM,CAAP;AAWD;;;uCAEkB;AACjB,aAAO,KAAKK,EAAZ;AACD;;;;;;AAKI,IAAIG,4BAAU,IAAIV,KAAJ,EAAd","file":"index.js","sourcesContent":["'use strict';\nimport config from './../../config/database.js';\nimport {MongoClient} from 'mongodb';\n\nclass Mongo {\n  connect() {\n    return new Promise((res, rej) => {\n      MongoClient.connect(config.url, (err, db) => {\n        if(err) {\n          console.log('Did you forget to run Mongo?');\n          res();\n        }\n        console.log('Reconnecting');\n        this.db = db;\n        res();\n      });\n    });\n  }\n\n  returnConnection() {\n    return this.db;\n  }\n}\n\n\n\nexport let sourced = new Mongo();\n"]}