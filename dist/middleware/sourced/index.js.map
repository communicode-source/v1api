{"version":3,"sources":["../../../app/middleware/sourced/index.js"],"names":["Mongo","Promise","res","rej","connect","mongo","url","err","db","console","log","sourced"],"mappings":"AAAA;;;;;;;;;AACA;;;;AACA;;;;;;IAEMA,K;;;;;;;8BACM;AAAA;;AACR,aAAO,IAAIC,OAAJ,CAAY,UAACC,GAAD,EAAMC,GAAN,EAAc;AAC/B,6BAAYC,OAAZ,CAAoB,mBAAOC,KAAP,CAAaC,GAAjC,EAAsC,UAACC,GAAD,EAAMC,EAAN,EAAa;AACjD,cAAGD,GAAH,EAAQ;AACNE,oBAAQC,GAAR,CAAY,8BAAZ;AACAR;AACD;AACD,gBAAKM,EAAL,GAAUA,EAAV;AACAN;AACD,SAPD;AAQD,OATM,CAAP;AAUD;;;uCAEkB;AACjB,aAAO,KAAKM,EAAZ;AACD;;;;;;AAKI,IAAIG,4BAAU,IAAIX,KAAJ,EAAd","file":"index.js","sourcesContent":["'use strict';\nimport config from './../../config/database.js';\nimport {MongoClient} from 'mongodb';\n\nclass Mongo {\n  connect() {\n    return new Promise((res, rej) => {\n      MongoClient.connect(config.mongo.url, (err, db) => {\n        if(err) {\n          console.log('Did you forget to run Mongo?');\n          res();\n        }\n        this.db = db;\n        res();\n      });\n    });\n  }\n\n  returnConnection() {\n    return this.db;\n  }\n}\n\n\n\nexport let sourced = new Mongo();\n"]}